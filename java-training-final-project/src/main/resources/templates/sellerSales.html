<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
<title>My Sales</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<script type="text/javascript" src="/webjars/jquery/jquery.min.js"></script>
<script type="text/javascript" src="js/inventory.js"></script>
<script type="text/javascript" src="js/buying.js"></script>
</head>
<body>

	<div id="result">
		<table border="1">
			<tr>
				<th>INDEX</th>
				<th>CUSTOMER</th>
				<th>STATUS</th>
				<th>DATE OF REQUEST</th>
				<th>REQUEST CASES</th>
				<th>CONFIRM</th>
				<th>DELETE</th>
			</tr>		
			<tr th:each="casewrapper,itrStat : ${inventory}">
					<td th:text="${itrStat.count}"></td>
					<td th:text="${casewrapper.myCase.design.name}"></td>
					<td th:text="${casewrapper.myCase.device.name}"></td>
					<div sec:authorize="hasRole('ROLE_STORE_SELLER')">
						<td>
							<label>Quantity:</label>
							<input type="hidden" th:id="${casewrapper.id}+'_data'" th:value= "${casewrapper.myCase.design.name}+'_'+${casewrapper.myCase.device.name}"/>
							<select th:id="${casewrapper.id}+'_quantity'">
								<option>1</option>
								<option>2</option>
								<option>3</option>
								<option>4</option>
								<option>5</option>
							</select>
							<button type="button" class="buyCase" th:id="${casewrapper.id}">Buy!</button>
						</td>
					</div>
					<div sec:authorize="hasRole('ROLE_ADMIN')">
						<td th:text="${casewrapper.myCase.provider}"></td>
						<td th:text="${casewrapper.currentStock}"></td>
						<td th:text="${casewrapper.minimumStock}"></td>
						<td><button type="button">Delete</button></td>
					</div>
			</tr>
		</table>
	</div>
	
	<select id="pageSelect">
<!-- 	<div id="pagination"> -->
			<option th:each="i: ${#numbers.sequence( 1, pageQuantity)}"
	        th:value="${i}"
	        th:text="${i}"></option>
<!-- 	</div> -->
	</select>
	
	<label>Size:</label>
	<select id="sizeSelect">
		<option>5</option>
		<option>10</option>
		<option>15</option>
	</select>
	
	<div id="customerData">
		<p>Customer Data</p>
		<form action="/buy" id="buyingForm" method="post">
			<label>Name: </label><input type="text" name="name" id="name"/>
			<label>Age: </label><input type="number" name="age" id="age"/>
			<label>Gender: </label>
			<select name="gender" id="gender"><option value="M">M</option><option value="F">F</option></select>
			<label>Location: </label><input type="text" name="location" id="location"/>
		</form>
	<button type="button" id="confirmSale">Confirm Sale</button>
	</div>
	
	<a th:href="@{/}">Back to the homepage</a>
</body>
</html>